$icon__visible: "data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg'><path d='M12,5 C17,5 21.27,8.11 23,12.5 C21.27,16.89 17,20 12,20 C7,20 2.73,16.89 1,12.5 C2.73,8.11 7,5 12,5 Z M12,17.5 C14.76,17.5 17,15.26 17,12.5 C17,9.74 14.76,7.5 12,7.5 C9.24,7.5 7,9.74 7,12.5 C7,15.26 9.24,17.5 12,17.5 Z' fill-rule='nonzero'></path><path d='M12,9.5 C10.34,9.5 9,10.84 9,12.5 C9,14.16 10.34,15.5 12,15.5 C13.66,15.5 15,14.16 15,12.5 C15,10.84 13.66,9.5 12,9.5 Z' fill-rule='nonzero'></path></svg>";
$icon__hidden: "data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg'><path d='M19.1145976,17.6145976 C17.1357397,19.111758 14.6721169,20 12,20 C7,20 2.73,16.89 1,12.5 C2.1681438,9.53575071 4.49435577,7.15509483 7.42141271,5.92141271 L9.60854669,8.10854669 C8.05477185,8.95699413 7,10.6060682 7,12.5 C7,15.26 9.24,17.5 12,17.5 C13.8939318,17.5 15.5430059,16.4452281 16.3914533,14.8914533 L19.1145976,17.6145976 L19.1145976,17.6145976 Z' fill-rule='nonzero'></path><path d='M20.6043865,16.2759593 L16.9972006,12.6687735 C16.9990619,12.6127432 17,12.5564805 17,12.5 C17,9.74 14.76,7.5 12,7.5 C11.9435195,7.5 11.8872568,7.50093805 11.8312265,7.50279942 L9.57740803,5.2489809 C10.3592736,5.08578831 11.1695684,5 12,5 C17,5 21.27,8.11 23,12.5 C22.4438856,13.9111805 21.6253071,15.1900957 20.6043865,16.2759593 L20.6043865,16.2759593 Z' fill-rule='nonzero'></path><path d='M13.6675474,14.9959745 C13.1910334,15.314476 12.6176688,15.5 12,15.5 C10.34,15.5 9,14.16 9,12.5 C9,11.8823312 9.18552396,11.3089666 9.50402547,10.8324526 L2.66116524,3.98959236 C2.27064094,3.59906807 2.27064094,2.96590309 2.66116524,2.5753788 C3.05168953,2.18485451 3.68485451,2.18485451 4.0753788,2.5753788 L21.0459415,19.5459415 C21.4364658,19.9364658 21.4364658,20.5696308 21.0459415,20.9601551 C20.6554173,21.3506794 20.0222523,21.3506794 19.631728,20.9601551 L13.6675474,14.9959745 L13.6675474,14.9959745 Z' fill-rule='nonzero'></path>
</svg>";

.block-visibility-settings {

    .components-panel__body.is-opened>.components-panel__body-title {
        margin-bottom: 10px;
    }

    .components-radio-control__option {
        &:not(:last-child) {
            margin-bottom: 6px;
        }
        input {
            vertical-align: top;
            margin-top: 2px;
        }

        .compound-radio-label {
            display: inline-block;
            font-weight: 600;

            span {
                display: block;
                font-weight: 400;
                max-width: 200px;
            }
        }
    }

    .block-visibility-settings__visibility-controls {
        padding-top: 10px;

        .components-notice {
            margin: 0;
        }

        /* Specific styles for the Hide Block visibility control */
        .visibility-controls__hide-block {
            margin-bottom: 24px;
        }

        /* Specific styles for the User Roles visibility control */
        .visibility-controls__user-roles {

            .user-roles__label {
                margin-bottom: 6px;
                display: inline-block;
            }

            .user-roles__help {
                font-style: italic;
            }

            .user-roles__control {
                .components-base-control {
                    margin-bottom: 6px;
                }
            }
        }
    }
}

.block-visibility__has-visibility {
    outline: 2px dashed #aaa;
    opacity: .5;

    /*
    transition: opacity .1s ease-in-out;
    -moz-transition: opacity .1s ease-in-out;
    -webkit-transition: opacity .1s ease-in-out;
    */

    &:before {
        content: "";
        height: 24px;
        width: 24px;
        position: absolute;
        right: 10px;
        top: 5px;
        z-index: 1000;
    }

    &.block-visibility__has-roles {
        &:before {
            background: url( $icon__visible );
        }
    }

    &.block-visibility__is-hidden {
        &:before {
            background: url( $icon__hidden );
        }
    }

    &.is-selected,
    &.has-child-selected {
        outline: none;
        opacity: 1;

        &:before {
            background: none;
        }
    }
}
